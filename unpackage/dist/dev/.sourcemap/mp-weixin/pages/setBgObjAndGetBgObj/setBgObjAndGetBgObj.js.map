{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/QS-SharePoster 示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?1a37","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/QS-SharePoster 示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?7847","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/QS-SharePoster 示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?8dbf","uni-app:///pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/QS-SharePoster 示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?f033","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/QS-SharePoster 示例/pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue?b31a"],"names":["createPage","Page"],"mappings":"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","file":"pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setBgObjAndGetBgObj.vue?vue&type=template&id=a77efe64&\"\nvar renderjs\nimport script from \"./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"\nexport * from \"./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/setBgObjAndGetBgObj/setBgObjAndGetBgObj.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=template&id=a77efe64&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 说明 -->\r\n\t\t<text style=\"font-size: 29rpx;color: #999;\">\r\n\t\t\tdrawArray为Function时, 携带参数对象新增方法setBgObj、getBgObj\\n setBgObj为动态设置画布大小方法传参 { height: Number, width: Number }\\n getBgObj方法返回最新的画布信息\\n\r\n\t\t</text>\r\n\t\t<!-- 生成海报 -->\r\n\t\t<button type=\"primary\" @tap=\"shareFc()\">生成海报</button>\r\n\t\t<!-- 图片展示由自己实现 -->\r\n\t\t<view class=\"flex_row_c_c modalView\" :class=\"qrShow ? 'show' : ''\" @tap=\"hideQr()\">\r\n\t\t\t<view class=\"flex_column\">\r\n\t\t\t\t<view class=\"backgroundColor-white padding1vh border_radius_10px\"><image :src=\"poster.finalPath || ''\" mode=\"widthFix\" class=\"posterImage\"></image></view>\r\n\t\t\t\t<view class=\"flex_row marginTop2vh\">\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"saveImage()\">保存图片</button>\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"share()\">分享图片</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 画布 -->\r\n\t\t<view class=\"hideCanvasView\">\r\n\t\t\t<canvas class=\"hideCanvas\" canvas-id=\"default_PosterCanvasId\" :style=\"{ width: (poster.width || 10) + 'px', height: (poster.height || 10) + 'px' }\"></canvas>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport _app from '@/util/QS-SharePoster/app.js';\r\nimport { getSharePoster } from '@/util/QS-SharePoster/QS-SharePoster.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tposter: {},\r\n\t\t\tqrShow: false,\r\n\t\t\tcanvasId: 'default_PosterCanvasId',\r\n\t\t\tcount: 0\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync shareFc() {\r\n\t\t\tlet _this = this;\r\n\t\t\ttry {\r\n\t\t\t\tthis.count++;\r\n\t\t\t\t_app.log('准备生成:' + new Date());\r\n\t\t\t\tconst d = await getSharePoster({\r\n\t\t\t\t\t_this: _this, //若在组件中使用 必传\r\n\t\t\t\t\ttype: 'testShareType',\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t//访问接口获取背景图携带自定义数据\r\n\t\t\t\t\t},\r\n\t\t\t\t\tposterCanvasId: _this.canvasId, //canvasId\r\n\t\t\t\t\tdelayTimeScale: 20, //延时系数\r\n\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\theight: 10,\r\n\t\t\t\t\t\twidth: 10\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetCanvasWH({ bgObj }) {\r\n\t\t\t\t\t\t_this.poster = bgObj;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrawArray({ bgObj, type, bgScale, setBgObj, getBgObj }) {\r\n\t\t\t\t\t\tconst dx = bgObj.width * 0.3;\r\n\t\t\t\t\t\tconst fontSize = bgObj.width * 0.045;\r\n\t\t\t\t\t\tconst lineHeight = bgObj.height * 0.04;\r\n\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\tid: 'productImage',\r\n\t\t\t\t\t\t\t\turl: _this.count % 2 === 0 ? 'https://shuretest.51wephone.cn/uploads/banner/20191226/9b4cf3924a4f3d0058cb03a24522055b.jpg' : '/static/2.jpg',\r\n\t\t\t\t\t\t\t\tdx: 0,\r\n\t\t\t\t\t\t\t\tdy: 0,\r\n\t\t\t\t\t\t\t\talpha: 0.1,\r\n\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\tlet width;\r\n\t\t\t\t\t\t\t\t\tlet height;\r\n\t\t\t\t\t\t\t\t\tif (imageInfo.width > imageInfo.height) {\r\n\t\t\t\t\t\t\t\t\t\twidth = imageInfo.width > 700 ? 700 : imageInfo.width;\r\n\t\t\t\t\t\t\t\t\t\theight = (width / imageInfo.width) * imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\theight = imageInfo.height > 700 ? 700 : imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\twidth = (height / imageInfo.height) * imageInfo.width;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (width < 500) {\r\n\t\t\t\t\t\t\t\t\t\twidth = 500;\r\n\t\t\t\t\t\t\t\t\t\theight = (width / imageInfo.width) * imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet addHeight = height * 0.3;\r\n\t\t\t\t\t\t\t\t\tif (addHeight < 150) addHeight = 150;\r\n\t\t\t\t\t\t\t\t\tif (addHeight > 250) addHeight = 250;\r\n\t\t\t\t\t\t\t\t\tsetBgObj({\r\n\t\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\t\theight: height + addHeight\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tdWidth: width,\r\n\t\t\t\t\t\t\t\t\t\tdHeight: height\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\turl: 'https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZxvc9Dn70Dz0EH11KTLNqc0Sfhaz6I8KgJRGLBUq7cn2MkN7aWAKPyWIY1iaa3Fc83RicUSq5VAlA/132',\r\n\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\tdWidth: 100,\r\n\t\t\t\t\t\t\t\tdHeight: 100,\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tdx: 0,\r\n\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * 0.25,\r\n\t\t\t\t\t\t\t\t\t\tcircleSet: {\r\n\t\t\t\t\t\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tr: 50\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\tid: 'productName',\r\n\t\t\t\t\t\t\t\ttext: '取舍',\r\n\t\t\t\t\t\t\t\tcolor: '#000',\r\n\t\t\t\t\t\t\t\tserialNum: 2,\r\n\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * 0.05 + 110,\r\n\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * 0.25\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'strokeRect',\r\n\t\t\t\t\t\t\t\tid: 'productName',\r\n\t\t\t\t\t\t\t\tcolor: '#f00',\r\n\t\t\t\t\t\t\t\tserialNum: 3,\r\n\t\t\t\t\t\t\t\tlineWidth: 20,\r\n\t\t\t\t\t\t\t\theight: 20,\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\twidth:getBgObj().width,\r\n\t\t\t\t\t\t\t\t\t\tdx:0,\r\n\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\ttext: '棒棒哒~233',\r\n\t\t\t\t\t\t\t\tcolor: '#f1505c',\r\n\t\t\t\t\t\t\t\tserialNum: 2,\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * 0.05 + 110,\r\n\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * 0.5\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\ttext: '无情哈拉少',\r\n\t\t\t\t\t\t\t\tserialNum: 3,\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tsize: getBgObj().width * 0.05,\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: getBgObj().width * 0.5,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width * 0.05 + 110,\r\n\t\t\t\t\t\t\t\t\t\tdy: productImage.dHeight + addHeight * 0.75\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'qrcode',\r\n\t\t\t\t\t\t\t\ttext: '123456',\r\n\t\t\t\t\t\t\t\tserialNum: 4,\r\n\t\t\t\t\t\t\t\tallInfoCallback({ drawArray }) {\r\n\t\t\t\t\t\t\t\t\tconst productImage = drawArray.find(item => item.id === 'productImage');\r\n\t\t\t\t\t\t\t\t\tconst addHeight = getBgObj().height - productImage.dHeight;\r\n\t\t\t\t\t\t\t\t\tconst widthSize = getBgObj().width * 0.4;\r\n\t\t\t\t\t\t\t\t\tconst heightSize = addHeight;\r\n\t\t\t\t\t\t\t\t\tconst countSize = widthSize > heightSize ? heightSize : widthSize;\r\n\t\t\t\t\t\t\t\t\tconst size = countSize * 0.9;\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tsize: size,\r\n\t\t\t\t\t\t\t\t\t\tdx: getBgObj().width - countSize * 0.95,\r\n\t\t\t\t\t\t\t\t\t\tdy: getBgObj().height - countSize * 0.95\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t_app.log('海报生成成功, 时间:' + new Date() + '， 临时路径: ' + d.poster.tempFilePath);\r\n\t\t\t\t_this.poster.finalPath = d.poster.tempFilePath;\r\n\t\t\t\t_this.qrShow = true;\r\n\t\t\t} catch (e) {\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t\t_app.showToast(JSON.stringify(e));\r\n\t\t\t\tconsole.log(JSON.stringify(e));\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveImage() {\r\n\t\t\t// #ifndef H5\r\n\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\tfilePath: this.poster.finalPath,\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t_app.showToast('保存成功');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\t_app.showToast('保存了');\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tshare() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t_app.getShare(false, false, 2, '', '', '', this.poster.finalPath, false, false);\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\t_app.showToast('分享了');\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\thideQr() {\r\n\t\t\tthis.qrShow = false;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.hideCanvasView {\r\n\tposition: relative;\r\n}\r\n\r\n.hideCanvas {\r\n\tposition: fixed;\r\n\ttop: -99999upx;\r\n\tleft: -99999upx;\r\n\tz-index: -99999;\r\n}\r\n\r\n.flex_row_c_c {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.modalView {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\topacity: 0;\r\n\toutline: 0;\r\n\ttransform: scale(1.2);\r\n\tperspective: 2500upx;\r\n\tbackground: rgba(0, 0, 0, 0.6);\r\n\ttransition: all 0.3s ease-in-out;\r\n\tpointer-events: none;\r\n\tbackface-visibility: hidden;\r\n\tz-index: 999;\r\n}\r\n\r\n.modalView.show {\r\n\topacity: 1;\r\n\ttransform: scale(1);\r\n\tpointer-events: auto;\r\n}\r\n\r\n.flex_column {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.backgroundColor-white {\r\n\tbackground-color: white;\r\n}\r\n\r\n.border_radius_10px {\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.padding1vh {\r\n\tpadding: 1vh;\r\n}\r\n\r\n.posterImage {\r\n\twidth: 60vw;\r\n}\r\n\r\n.flex_row {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n}\r\n\r\n.marginTop2vh {\r\n\tmargin-top: 2vh;\r\n}\r\n</style>\n","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./setBgObjAndGetBgObj.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594481114878\n      var cssReload = require(\"D:/软件/HBuilderX.2.7.14.20200618/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}